#!/bin/zsh
TRAPUSR1() key=$((!key))
i3status | while read line ; do
    arr=(${(ps.\},.)line})
    [[ $arr[4] =~ 100.{3}$ ]] && arr[4]=()
    ((key)) || arr[2,3]=() arr[-1]=${${arr[-1]}/\[*] /}
    echo ${(pj.\},.)arr} || exit 1
done
